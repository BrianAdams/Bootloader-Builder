From 783a7802d3b59b12874bf55246d662b9b1520435 Mon Sep 17 00:00:00 2001
From: codewithpassion <dominik.fretz@gmail.com>
Date: Fri, 2 Oct 2015 17:54:45 -0700
Subject: [PATCH] Adding autoboot for BBB as described in
 http://www.mikini.dk/index.php/category/beaglebone-black/boot-issue

---
 include/configs/ti_am335x_common.h | 9 +++++++++
 1 file changed, 9 insertions(+)

diff --git a/include/configs/ti_am335x_common.h b/include/configs/ti_am335x_common.h
index 9697431..958b739 100644
--- a/include/configs/ti_am335x_common.h
+++ b/include/configs/ti_am335x_common.h
@@ -12,6 +12,12 @@
 #ifndef __CONFIG_TI_AM335X_COMMON_H__
 #define __CONFIG_TI_AM335X_COMMON_H__
 
+#define CONFIG_AUTOBOOT_KEYED
+#define CONFIG_AUTOBOOT_STOP_STR "stop"
+#define CONFIG_AUTOBOOT_PROMPT "autoboot in %d seconds (type ‘%s’ to abort)\n",bootdelay,CONFIG_AUTOBOOT_STOP_STR
+#define CONFIG_BOOT_RETRY_TIME 5
+#define CONFIG_RESET_TO_RETRY
+
 #define CONFIG_AM33XX
 #define CONFIG_ARCH_CPU_INIT
 #define CONFIG_SYS_CACHELINE_SIZE       64
@@ -96,4 +102,7 @@
 /* Now bring in the rest of the common code. */
 #include <configs/ti_armv7_omap.h>
 
+#undef  CONFIG_BOOTDELAY
+#define CONFIG_BOOTDELAY               0
+
 #endif	/* __CONFIG_TI_AM335X_COMMON_H__ */
-- 
1.9.1

